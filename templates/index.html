{% extends "layout.html" %}

{% block content %}
<h1 class="mb-4">Upload Your Picture</h1>
<form action="/" method="post" enctype="multipart/form-data" class="mb-4">
    <div class="mb-3">
        <label for="file" class="form-label">Choose a picture to upload:</label>
        <input type="file" class="form-control" id="file" name="file" accept="image/*">
    </div>
    <button type="submit" class="btn btn-primary">Upload</button>
</form>

{% if image_url %}
    <h2>Uploaded Image:</h2>
    <div class="uploaded-image-container">
        <img src="{{ image_url }}" alt="Uploaded Image" class="uploaded-image img-fluid mt-3">
    </div>

    <h3 class="mt-4">Top 10 Colors:</h3>
    <ul class="list-group mt-3">
        {% for hex_color, percentage in colors %}
            <li class="list-group-item d-flex justify-content-between align-items-center">
                <!-- Color Swatch and Hex Code -->
                <div class="d-flex align-items-center">
                    <div style="width: 30px; height: 30px; background-color: {{ hex_color }}; border: 1px solid #000; margin-right: 10px;"></div>
                    <span>{{ hex_color }}</span>
                </div>

                <!-- Percentage -->
                <span class="ms-3">{{ percentage|round(2) }}%</span>
            </li>
        {% endfor %}
    </ul>
{% endif %}

{% endblock %}